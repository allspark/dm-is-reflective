= dm-mapping 0.4.1
by Lin Jen-Shin (a.k.a. godfat-真常[http://godfat.org])
  godfat (XD) godfat.org

== LINKS:

* rdoc[http://ludy.rubyforge.org/dm-mapping]
* github-project[http://github.com/godfat/dm-mapping]
* rubyforge-project[http://rubyforge.org/projects/ludy]

== DESCRIPTION:

 DataMapper plugin that helps you manipulate an existing database.
 It creates mappings between existing columns and model's properties.

== SYNOPSIS:

 require 'dm-mapping'
 dm = DataMapper.setup :default, 'sqlite3:db/development.sqlite3'

 dm.object_id == DataMapper.repository.adapter.object_id
 # => true

 class User
   include DataMapper::Resource
   # mapping all
   mapping /.*/

   # mapping for ended with _at, and started with salt_
   mapping /_at$/, /^salt_/

   # mapping id and email
   mapping :id, :email

   # mapping all fields with type String, and id
   mapping String, :id

   # mapping login, and all fields with type Integer
   mapping :login, Integer
 end

 # there's no guarantee of the order in storages array
 dm.storages
 # => ['users']

 # there's no guarantee of the order in fields array
 User.fields.sort
 # => [['created_at',  DateTime, {}],
       ['email',       String,   {:size => 255, :default => 'nospam@nospam.tw'}],
       ['id',          Integer,  {:serial => true}],
       ['salt_first',  String,   {:size => 50}],
       ['salt_second', String,   {:size => 50}]]

 dm.fields('users').sort == User.fields.sort
 # => true

 dm.storages_and_fields
 # => {'users' => [['id',          Integer,  {:serial => true}],
                   ['email',       String,   {:default => 'nospam@nospam.tw'}],
                   ['created_at',  DateTime, {}],
                   ['salt_first',  String,   {:size => 50}],
                   ['salt_second', String,   {:size => 50}]]}

 # there's no guarantee of the order in returned array
 dm.auto_genclass!
 # => [DataMapper::Mapping::User,
       DataMapper::Mapping::SchemaInfo,
       DataMapper::Mapping::Session]

 # you can change the scope of generated models:
 dm.auto_genclass! Object
 # => [User, SchemaInfo, Session]

== REQUIREMENTS:

* dm-core 0.9.3
* at least one do_* adapter (currently only sqlite3 is supported)

== INSTALL:

> sudo gem install dm-mapping

== LICENSE:

  Apache License 2.0

  Copyright (c) 2008, Lin Jen-Shin (a.k.a. godfat 真常)

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
